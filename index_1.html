<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ì—Ä–∞ "–°–∫—Ä–∏–Ω—å–∫–∏"</title>
  <style>
    /* --- –≤–∞—à—ñ —Å—Ç–∏–ª—ñ (–±–µ–∑ –∑–º—ñ–Ω) --- */
    body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
    }
    .game-container {
        background-color: white;
        border-radius: 10px;
        padding: 20px;
        box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .card {
        display: inline-block;
        padding: 5px 10px;
        margin: 5px;
        border: 1px solid #ddd;
        border-radius: 5px;
        background-color: white;
        cursor: pointer;
        visibility: visible;
        opacity: 1;
    }
    .card.selected {
        background-color: #d4edda;
        border-color: #c3e6cb;
    }
    .hearts, .diamonds { color: red; }
    .clubs, .spades { color: black; }
    .controls { margin: 20px 0; padding: 15px; background-color: #f8f9fa; border-radius: 5px; }
    button { padding: 8px 15px; margin: 5px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; }
    button:disabled { background-color: #6c757d; cursor: not-allowed; }
    .suit-btn { font-size: 20px; width: 40px; height: 40px; }
    .game-info { margin-bottom: 20px; }
    .box { display: inline-block; padding: 5px 10px; margin: 5px; border: 1px solid #17a2b8; border-radius: 5px; background-color: #d1ecf1; }
    .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4); }
    .modal-content { background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%; max-width: 500px; border-radius: 10px; text-align: center; }
    .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
    .close:hover { color: black; }
    .game-log { margin-top: 20px; padding: 10px; background-color: #f8f9fa; border-radius: 5px; max-height: 200px; overflow-y: auto; }
    .log-entry { margin: 5px 0; padding: 5px; border-bottom: 1px solid #eee; }
    .player-log { color: #007bff; }
    .bot-log { color: #dc3545; }
    .system-log { color: #28a745; font-weight: bold; }
  </style>
</head>
<body>
  <div class="game-container">
    <h1>–ì—Ä–∞ "–°–∫—Ä–∏–Ω—å–∫–∏"</h1>

    <div class="game-info">
      <h3>–ü–æ—Ç–æ—á–Ω–∏–π –≥—Ä–∞–≤–µ—Ü—å: <span id="current-player">–ì—Ä–∞–≤–µ—Ü—å</span></h3>
      <p>–°–∫—Ä–∏–Ω—å–∫–∏ –≥—Ä–∞–≤—Ü—è: <span id="player-boxes">0</span> (<span id="player-boxes-list"></span>)</p>
      <p>–°–∫—Ä–∏–Ω—å–∫–∏ –±–æ—Ç–∞: <span id="bot-boxes">0</span> (<span id="bot-boxes-list"></span>)</p>
      <p>–ö–∞—Ä—Ç —É –∫–æ–ª–æ–¥—ñ: <span id="deck-count">36</span></p>
    </div>

    <div id="player-hand">
      <h3>–í–∞—à—ñ –∫–∞—Ä—Ç–∏:</h3>
      <div id="player-cards"></div>
    </div>

    <div class="controls" id="game-controls">
      <div id="rank-selection">
        <p>–û–±–µ—Ä—ñ—Ç—å –Ω–æ–º—ñ–Ω–∞–ª –∫–∞—Ä—Ç–∏, —è–∫—É —Ö–æ—á–µ—Ç–µ –∑–∞–ø—Ä–æ—Å–∏—Ç–∏:</p>
        <div id="rank-buttons"></div>
      </div>

      <div id="count-selection" style="display: none;">
        <p>–û–±–µ—Ä—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–∞—Ä—Ç:</p>
        <button class="count-btn" data-count="1">1</button>
        <button class="count-btn" data-count="2">2</button>
        <button class="count-btn" data-count="3">3</button>
        <button class="count-btn" data-count="4">4</button>
      </div>

      <div id="suit-selection" style="display: none;">
        <p>–û–±–µ—Ä—ñ—Ç—å –º–∞—Å—Ç—ñ:</p>
        <button class="suit-btn hearts" data-suit="‚ô•">‚ô•</button>
        <button class="suit-btn diamonds" data-suit="‚ô¶">‚ô¶</button>
        <button class="suit-btn clubs" data-suit="‚ô£">‚ô£</button>
        <button class="suit-btn spades" data-suit="‚ô†">‚ô†</button>
        <div id="selected-suits"></div>
        <button id="submit-request" disabled>–ü—ñ–¥—Ç–≤–µ—Ä–¥–∏—Ç–∏ –∑–∞–ø–∏—Ç</button>
      </div>
    </div>

    <div id="bot-turn-info" style="display: none;">
      <h3>–•—ñ–¥ –±–æ—Ç–∞...</h3>
      <div id="bot-messages"></div>
    </div>

    <div class="game-log">
      <h3>–Ü—Å—Ç–æ—Ä—ñ—è –≥—Ä–∏:</h3>
      <div id="game-history"></div>
    </div>

    <div id="game-rules">
      <h3>–ü—Ä–∞–≤–∏–ª–∞ –≥—Ä–∏:</h3>
      <ol>
        <li>–ú–µ—Ç–∞ –≥—Ä–∏ - –∑—ñ–±—Ä–∞—Ç–∏ —è–∫–Ω–∞–π–±—ñ–ª—å—à–µ "—Å–∫—Ä–∏–Ω—å–æ–∫" (4 –∫–∞—Ä—Ç–∏ –æ–¥–Ω–æ–≥–æ –Ω–æ–º—ñ–Ω–∞–ª—É).</li>
        <li>–ó–∞–ø–∏—Ç—É–π—Ç–µ —É –±–æ—Ç–∞ –∫–∞—Ä—Ç–∏ –ø–µ–≤–Ω–æ–≥–æ –Ω–æ–º—ñ–Ω–∞–ª—É, –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Ç–∞ –º–∞—Å—Ç—ñ.</li>
        <li>–Ø–∫—â–æ –≤–∏ –≤–≥–∞–¥–∞–ª–∏, –ø—Ä–æ–¥–æ–≤–∂—É–π—Ç–µ —Ö–æ–¥–∏—Ç–∏, –ø–æ–∫–∏ –Ω–µ –ø–æ–º–∏–ª–∏—Ç–µ—Å—å.</li>
        <li>–Ø–∫—â–æ –Ω—ñ - —Ö—ñ–¥ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –¥–æ –±–æ—Ç–∞.</li>
        <li>–ì—Ä–∞ –∑–∞–∫—ñ–Ω—á—É—î—Ç—å—Å—è, –∫–æ–ª–∏ –∑—ñ–±—Ä–∞–Ω–æ –≤—Å—ñ 9 —Å–∫—Ä–∏–Ω—å–æ–∫ –∞–±–æ –∫–æ–ª–∏ –∑–∞–∫—ñ–Ω—á–∏–ª–∏—Å—è –∫–∞—Ä—Ç–∏.</li>
      </ol>
    </div>

    <button id="new-game-btn">–ù–æ–≤–∞ –≥—Ä–∞</button>
    <button id="send-result-to-bot" style="display:none;">–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–æ—Ç—É</button>
  </div>

  <div id="game-over-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>–ì—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞!</h2>
      <div id="game-result"></div>
      <button id="play-again-btn">–ì—Ä–∞—Ç–∏ –∑–Ω–æ–≤—É</button>
    </div>
  </div>

  <!-- Telegram WebApp SDK -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <script>
    // –Ü–ù–¢–ï–ì–†–ê–¶–Ü–Ø TELEGRAM WEBAPP
    const tg = window.Telegram?.WebApp;
    if (tg) {
      // –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ WebApp –ø—ñ–¥ –µ–∫—Ä–∞–Ω (–æ–ø—Ü—ñ–π–Ω–æ)
      try { tg.expand(); } catch(e) {}
    }

    // --- –í–µ—Å—å –≤–∞—à –∫–ª–∞—Å–æ–≤–∏–π –∫–æ–¥ (–±–µ–∑ –∑–º—ñ–Ω –ª–æ–≥—ñ–∫–∏), –∞–ª–µ –∑ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –≤–∏–∫–ª–∏–∫–∞–º–∏ WebApp ---
    class SkrynkyGame {
      constructor(players = ["–ì—Ä–∞–≤–µ—Ü—å", "–ë–æ—Ç"], deckSize = 36) {
        this.players = players;
        this.currentPlayerIdx = 0;
        this.deck = this._generateDeck(deckSize);
        this.hands = { "–ì—Ä–∞–≤–µ—Ü—å": [], "–ë–æ—Ç": [] };
        this.boxes = { "–ì—Ä–∞–≤–µ—Ü—å": 0, "–ë–æ—Ç": 0 };
        this.usedBoxes = new Set();
        this.collectedBoxes = { "–ì—Ä–∞–≤–µ—Ü—å": [], "–ë–æ—Ç": [] };
        this.gameHistory = [];
        this.addToHistory("system", "–ì—Ä–∞ —Ä–æ–∑–ø–æ—á–∞–ª–∞—Å—è!");
        this.dealCards();
      }

      _generateDeck(size) {
        // —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ä–∞–Ω–≥–∏ —É 36-–∫–∞—Ä—Ç–∫–æ–≤—ñ–π –∫–æ–ª–æ–¥—ñ
        const allRanks = ['6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A'];
        const ranks = allRanks.slice(0, size / 4);
        const suits = ['‚ô•', '‚ô¶', '‚ô£', '‚ô†'];
        return ranks.flatMap(rank => suits.map(suit => `${rank}${suit}`));
      }

      dealCards() {
        this.shuffleDeck();
        for (let i = 0; i < 4; i++) {
          for (const player of this.players) {
            if (this.deck.length > 0) {
              const card = this.deck.pop();
              this.hands[player].push(card);
              this._checkBoxesAfterDeal(player, card.slice(0, -1));
            }
          }
        }
        this.addToHistory("system", "–†–æ–∑–¥–∞–Ω–æ –ø–æ—á–∞—Ç–∫–æ–≤—ñ –∫–∞—Ä—Ç–∏ –≥—Ä–∞–≤—Ü—è–º");
      }

      getPlayerCardsByRank(player, rank) {
        return this.hands[player].filter(card => card.startsWith(rank));
      }

      shuffleDeck() {
        for (let i = this.deck.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [this.deck[i], this.deck[j]] = [this.deck[j], this.deck[i]];
        }
      }

      _checkBoxesAfterDeal(player, rank) {
        if (this.usedBoxes.has(rank)) return false;

        const cards = this.hands[player].filter(card => card.startsWith(rank));
        if (cards.length === 4) {
          this.boxes[player]++;
          this.usedBoxes.add(rank);
          this.collectedBoxes[player].push(rank);
          this.hands[player] = this.hands[player].filter(card => !card.startsWith(rank));
          this.addToHistory("system", `‚ö°Ô∏è ${player} –∑—ñ–±—Ä–∞–≤ —Å–∫—Ä–∏–Ω—å–∫—É ${rank}!`);
          return true;
        }
        return false;
      }

      checkBoxes(player) {
        const ranks = this.hands[player].map(card => card.slice(0, -1));
        let changed = false;

        for (const rank of [...new Set(ranks)]) {
          if (!this.usedBoxes.has(rank) && ranks.filter(r => r === rank).length === 4) {
            this.boxes[player]++;
            this.usedBoxes.add(rank);
            this.collectedBoxes[player].push(rank);
            this.hands[player] = this.hands[player].filter(card => !card.startsWith(rank));
            this.addToHistory("system", `‚ö°Ô∏è ${player} –∑—ñ–±—Ä–∞–≤ —Å–∫—Ä–∏–Ω—å–∫—É ${rank}!`);
            changed = true;
          }
        }
        return changed;
      }

      drawCard(player) {
        if (this.deck.length === 0) {
          return { success: false, collected: false, card: null };
        }

        const card = this.deck.pop();
        this.hands[player].push(card);
        const collected = this._checkBoxesAfterDeal(player, card.slice(0, -1));

        const role = player === "–ì—Ä–∞–≤–µ—Ü—å" ? "player" : "bot";
        const message = role === "player"
          ? `${player} –≤–∑—è–≤ –∫–∞—Ä—Ç—É –∑ –∫–æ–ª–æ–¥–∏: ${card}`
          : `${player} –≤–∑—è–≤ –∫–∞—Ä—Ç—É –∑ –∫–æ–ª–æ–¥–∏.`;

        this.addToHistory(role, message);

        return { success: true, collected, card };
      }

      takeCards(fromPlayer, rank) {
        const cards = this.hands[fromPlayer].filter(card => card.startsWith(rank));
        this.hands[fromPlayer] = this.hands[fromPlayer].filter(card => !card.startsWith(rank));
        return cards;
      }

      isGameOver() {
        if (this.boxes["–ì—Ä–∞–≤–µ—Ü—å"] + this.boxes["–ë–æ—Ç"] === 9) {
          return true;
        }

        if (this.deck.length === 0) {
          return Object.values(this.hands).every(hand => hand.length === 0);
        }

        return false;
      }

      nextTurn() {
        this.currentPlayerIdx = (this.currentPlayerIdx + 1) % this.players.length;

        while (this.hands[this.players[this.currentPlayerIdx]].length === 0 && !this.isGameOver()) {
          if (this.deck.length === 0) {
            this.currentPlayerIdx = (this.currentPlayerIdx + 1) % this.players.length;
          } else {
            const result = this.drawCard(this.players[this.currentPlayerIdx]);
            if (!result.collected) {
              this.currentPlayerIdx = (this.currentPlayerIdx + 1) % this.players.length;
            }
          }
        }
      }

      takeCards(fromPlayer, rank) {
        const cards = this.hands[fromPlayer].filter(card => card.startsWith(rank));
        this.hands[fromPlayer] = this.hands[fromPlayer].filter(card => !card.startsWith(rank));

        this.addToHistory(fromPlayer === "–ì—Ä–∞–≤–µ—Ü—å" ? "bot" : "player",
          `${this.players[this.currentPlayerIdx]} –∑–∞–±—Ä–∞–≤ —É ${fromPlayer} –∫–∞—Ä—Ç–∏: ${cards.join(', ')}`);

        return cards;
      }

      addToHistory(type, message) {
        const timestamp = new Date().toLocaleTimeString();
        this.gameHistory.push({ type, message, timestamp });
      }

      getCurrentPlayer() {
        return this.players[this.currentPlayerIdx];
      }
    }

    class GameUI {
      constructor() {
        this.game = null;
        this.selectedSuits = [];
        this.requiredCount = 0;
        this.initElements();
        this.bindEvents();
        this.startNewGame();
        this.initTelegramUser();
      }

      initTelegramUser() {
        // –Ø–∫—â–æ WebApp ‚Äî –∑–∞–ø–æ–≤–Ω–∏–º–æ —ñ–º'—è –≥—Ä–∞–≤—Ü—è –ø–æ –¥–∞–Ω–∏–º –∑ Telegram
        if (tg && tg.initDataUnsafe && tg.initDataUnsafe.user) {
          const u = tg.initDataUnsafe.user;
          const name = u.username ? `@${u.username}` : (u.first_name || '–ì—Ä–∞–≤–µ—Ü—å');
          document.getElementById('current-player').textContent = name;
          // –ó–±–µ—Ä–µ–∂–µ–º–æ —è–∫ —ñ–º'—è –≥—Ä–∞–≤—Ü—è —É –ª–æ–≥—ñ—Ü—ñ (–Ω–µ –∑–º—ñ–Ω—é—î–º–æ –∫–ª—é—á—ñ "–ì—Ä–∞–≤–µ—Ü—å"/"–ë–æ—Ç")
          this.telegramUser = name;
        }
      }

      initElements() {
        this.elements = {
          currentPlayer: document.getElementById('current-player'),
          playerBoxes: document.getElementById('player-boxes'),
          playerBoxesList: document.getElementById('player-boxes-list'),
          botBoxes: document.getElementById('bot-boxes'),
          botBoxesList: document.getElementById('bot-boxes-list'),
          deckCount: document.getElementById('deck-count'),
          playerCards: document.getElementById('player-cards'),
          rankSelection: document.getElementById('rank-selection'),
          countSelection: document.getElementById('count-selection'),
          suitSelection: document.getElementById('suit-selection'),
          rankButtons: document.getElementById('rank-buttons'),
          selectedSuits: document.getElementById('selected-suits'),
          submitRequest: document.getElementById('submit-request'),
          gameControls: document.getElementById('game-controls'),
          botTurnInfo: document.getElementById('bot-turn-info'),
          botMessages: document.getElementById('bot-messages'),
          newGameBtn: document.getElementById('new-game-btn'),
          sendResultBtn: document.getElementById('send-result-to-bot'),
          gameOverModal: document.getElementById('game-over-modal'),
          gameResult: document.getElementById('game-result'),
          playAgainBtn: document.getElementById('play-again-btn'),
          closeModal: document.querySelector('.close'),
          gameHistory: document.getElementById('game-history')
        };
      }

      bindEvents() {
        this.elements.newGameBtn.addEventListener('click', () => this.startNewGame());
        this.elements.playAgainBtn.addEventListener('click', () => this.startNewGame());
        this.elements.closeModal.addEventListener('click', () => this.closeModal());
        this.elements.sendResultBtn.addEventListener('click', () => this.sendResultToBot());

        document.addEventListener('click', (e) => {
          if (e.target === this.elements.gameOverModal) this.closeModal();
        });

        this.elements.rankButtons.addEventListener('click', (e) => {
          if (e.target.tagName === 'BUTTON' && e.target.dataset.rank) {
            this.handleRankSelection(e.target.dataset.rank);
          }
        });

        document.querySelectorAll('.count-btn').forEach(btn => {
          btn.addEventListener('click', () => this.handleCountSelection(btn.dataset.count));
        });

        document.querySelectorAll('.suit-btn').forEach(btn => {
          btn.addEventListener('click', () => this.handleSuitSelection(btn.dataset.suit));
        });

        this.elements.submitRequest.addEventListener('click', () => this.submitRequest());
      }

      startNewGame() {
        this.game = new SkrynkyGame();
        this.resetRequestState();
        this.closeModal();
        this.resetUI();
        this.updateUI();
        this.setupRankButtons();
        this.updateGameHistory();
        if (tg) {
          // —Ö–æ–≤–∞—î–º–æ –∫–Ω–æ–ø–∫—É –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –ø–æ–∫–∏ –≥—Ä–∞ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
          this.elements.sendResultBtn.style.display = 'none';
        }
      }

      resetUI() {
        this.elements.botMessages.innerHTML = '';
        this.elements.botTurnInfo.style.display = 'none';
        this.elements.gameControls.style.display = 'block';
        this.elements.rankSelection.style.display = 'block';
        this.elements.countSelection.style.display = 'none';
        this.elements.suitSelection.style.display = 'none';
        this.selectedSuits = [];
        this.requiredCount = 0;
      }

      setupRankButtons() {
        this.elements.rankButtons.innerHTML = '';
        const availableRanks = ['6','7','8','9','10','J','Q','K','A'].filter(rank => !this.game.usedBoxes.has(rank));
        if (availableRanks.length === 0) return;
        availableRanks.forEach(rank => {
          const btn = document.createElement('button');
          btn.textContent = rank;
          btn.dataset.rank = rank;
          this.elements.rankButtons.appendChild(btn);
        });
      }

      handleRankSelection(rank) {
        const botCards = this.game.hands["–ë–æ—Ç"].filter(card => card.startsWith(rank));
        this.game.addToHistory("player", `–ì—Ä–∞–≤–µ—Ü—å –∑–∞–ø–∏—Ç–∞–≤ –∫–∞—Ä—Ç–∏ ${rank}`);
        if (botCards.length === 0) {
          this.handleNoCardsFromBot(rank);
          return;
        }
        this.game.playerState = { rank };
        this.elements.rankSelection.style.display = 'none';
        this.elements.countSelection.style.display = 'block';
      }

      handleCountSelection(count) {
        const rank = this.game.playerState.rank;
        const botCards = this.game.getPlayerCardsByRank("–ë–æ—Ç", rank);
        this.game.addToHistory("player", `–ì—Ä–∞–≤–µ—Ü—å –∑–∞–ø–∏—Ç–∞–≤ ${count} –∫–∞—Ä—Ç–∏ ${rank}`);

        if (botCards.length !== parseInt(count)) {
          this.game.addToHistory("player", `–ì—Ä–∞–≤–µ—Ü—å –ø–æ–º–∏–ª–∏–≤—Å—è –∑ –∫—ñ–ª—å–∫—ñ—Å—Ç—é ${count} –¥–ª—è ${rank}`);
          const result = this.game.drawCard("–ì—Ä–∞–≤–µ—Ü—å");
          let message = `‚ùå –í–∏ –ø–æ–º–∏–ª–∏–ª–∏—Å—å! –£ –±–æ—Ç–∞ ${botCards.length} ${rank}. `;
          if (result.success) {
            message += `–í–∑—è–ª–∏ –∫–∞—Ä—Ç—É –∑ –∫–æ–ª–æ–¥–∏: ${result.card}`;
            if (result.collected) message += `<br>‚ö°Ô∏è –í–∏ –∑—ñ–±—Ä–∞–ª–∏ —Å–∫—Ä–∏–Ω—å–∫—É ${result.card.slice(0,-1)}!`;
          } else message += `–í –∫–æ–ª–æ–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∫–∞—Ä—Ç.`;
          this.showMessage(message);
          this.game.nextTurn();
          this.resetRequestState();
          this.updateUI();
          setTimeout(() => this.processTurn(), 1000);
          return;
        }

        this.requiredCount = parseInt(count);
        this.game.playerState.count = count;
        this.elements.countSelection.style.display = 'none';
        this.elements.suitSelection.style.display = 'block';
        this.elements.selectedSuits.innerHTML = '';
        this.selectedSuits = [];
        this.elements.submitRequest.disabled = true;
      }

      handleSuitSelection(suit) {
        if (this.selectedSuits.includes(suit)) return;
        if (this.selectedSuits.length >= this.requiredCount) return;
        this.selectedSuits.push(suit);
        this.updateSelectedSuitsDisplay();
        if (this.selectedSuits.length === this.requiredCount) this.elements.submitRequest.disabled = false;
      }

      updateSelectedSuitsDisplay() {
        this.elements.selectedSuits.innerHTML = '–í–∏–±—Ä–∞–Ω–æ –º–∞—Å—Ç–µ–π: ' +
          this.selectedSuits.map(suit => {
            const colorClass = suit === '‚ô•' || suit === '‚ô¶' ? 'hearts' : 'clubs';
            return `<span class="${colorClass}">${suit}</span>`;
          }).join(', ');
      }

      submitRequest() {
        const rank = this.game.playerState.rank;
        const botCards = this.game.getPlayerCardsByRank("–ë–æ—Ç", rank);
        const botSuits = botCards.map(card => card.slice(-1));
        this.game.addToHistory("player", `–ì—Ä–∞–≤–µ—Ü—å –≤–∏–±—Ä–∞–≤ –º–∞—Å—Ç—ñ: ${this.selectedSuits.join(', ')}`);
        if (this.arraysEqual(this.selectedSuits.sort(), botSuits.sort())) {
          this.handleSuccessfulGuess(rank, botCards);
        } else {
          this.handleFailedGuess(rank);
        }
        this.elements.suitSelection.style.display = 'none';
        this.elements.rankSelection.style.display = 'block';
        this.selectedSuits = [];
      }

      arraysEqual(a,b){ if(a.length!==b.length) return false; for(let i=0;i<a.length;i++) if(a[i]!==b[i]) return false; return true; }

      handleSuccessfulGuess(rank, takenCards) {
        const player = "–ì—Ä–∞–≤–µ—Ü—å";
        const cardsTaken = this.game.takeCards("–ë–æ—Ç", rank);
        this.game.hands[player].push(...cardsTaken);
        const collectedBefore = this.game.boxes[player];
        this.game.checkBoxes(player);

        let message = `üéâ –í–∏ –≤–≥–∞–¥–∞–ª–∏! –ë–æ—Ç –≤—ñ–¥–¥–∞–≤ –≤–∞–º: ${cardsTaken.join(', ')}<br>`;
        message += `üìã –í–∞—à—ñ –Ω–æ–≤—ñ –∫–∞—Ä—Ç–∏: ${this.game.hands[player].sort().join(', ')}`;

        if (this.game.boxes[player] > collectedBefore) {
          const newBox = this.game.collectedBoxes[player][this.game.collectedBoxes[player].length - 1];
          message += `<br>‚ö°Ô∏è –í–∏ –∑—ñ–±—Ä–∞–ª–∏ —Å–∫—Ä–∏–Ω—å–∫—É ${newBox}! –ó–∞–≥–∞–ª–æ–º: ${this.game.boxes[player]}`;
        }

        this.showMessage(message);
        this.updateUI();

        if (this.game.isGameOver()) this.endGame();
        else {
          if (this.game.hands[player].length === 0) this.handlePlayerNoCards();
          else this.processTurn();
        }
      }

      handleFailedGuess(rank) {
        const player = "–ì—Ä–∞–≤–µ—Ü—å";
        const result = this.game.drawCard(player);
        let message = `‚ùå –í–∏ –ø–æ–º–∏–ª–∏–ª–∏—Å—å! `;
        if (result.success) {
          message += `–í–∑—è–ª–∏ –∫–∞—Ä—Ç—É –∑ –∫–æ–ª–æ–¥–∏: ${result.card}<br>`;
          if (result.collected) message += `<br>‚ö°Ô∏è –í–∏ –∑—ñ–±—Ä–∞–ª–∏ —Å–∫—Ä–∏–Ω—å–∫—É ${result.card.slice(0,-1)}!`;
          message += `üìã –í–∞—à—ñ –∫–∞—Ä—Ç–∏: ${this.game.hands[player].sort().join(', ')}`;
        } else {
          message += `–í –∫–æ–ª–æ–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∫–∞—Ä—Ç.`;
        }
        this.showMessage(message);
        this.game.nextTurn();
        this.resetRequestState();
        this.updateUI();
        setTimeout(()=>this.processTurn(),1000);
      }

      handleNoCardsFromBot(rank, count = null) {
        const player = "–ì—Ä–∞–≤–µ—Ü—å";
        const result = this.game.drawCard(player);
        let message = `‚ùå –£ –±–æ—Ç–∞ ${count ? `–Ω–µ ${count}` : '–Ω–µ–º–∞—î'} ${rank}. `;
        if (result.success) {
          message += `–í–∑—è–ª–∏ –∫–∞—Ä—Ç—É –∑ –∫–æ–ª–æ–¥–∏: ${result.card}<br>`;
          if (result.collected) message += `<br>‚ö°Ô∏è –í–∏ –∑—ñ–±—Ä–∞–ª–∏ —Å–∫—Ä–∏–Ω—å–∫—É ${result.card.slice(0,-1)}!`;
          message += `üìã –í–∞—à—ñ –∫–∞—Ä—Ç–∏: ${this.game.hands[player].sort().join(', ')}`;
        } else {
          message += `–í –∫–æ–ª–æ–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∫–∞—Ä—Ç.`;
        }
        this.showMessage(message);
        this.game.nextTurn();
        this.resetRequestState();
        this.updateUI();
        setTimeout(()=>this.processTurn(),1000);
      }

      handlePlayerNoCards() {
        const player = "–ì—Ä–∞–≤–µ—Ü—å";
        if (this.game.deck.length > 0) {
          const result = this.game.drawCard(player);
          if (result.success) {
            let message = `üÉè –£ –≤–∞—Å –Ω–µ –∑–∞–ª–∏—à–∏–ª–æ—Å—è –∫–∞—Ä—Ç. –í–∑—è–ª–∏ –∫–∞—Ä—Ç—É: ${result.card}`;
            if (result.collected) message += `<br>‚ö°Ô∏è –í–∏ –∑—ñ–±—Ä–∞–ª–∏ —Å–∫—Ä–∏–Ω—å–∫—É ${result.card.slice(0,-1)}!`;
            this.showMessage(message);
            this.updateUI();
            if (this.game.isGameOver()) this.endGame();
            else this.processTurn();
          } else {
            this.showMessage("üÉè –£ –≤–∞—Å –Ω–µ–º–∞—î –∫–∞—Ä—Ç —ñ –≤ –∫–æ–ª–æ–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∫–∞—Ä—Ç.");
            this.game.nextTurn(); this.processTurn();
          }
        } else {
          this.showMessage("üÉè –£ –≤–∞—Å –Ω–µ–º–∞—î –∫–∞—Ä—Ç —ñ –≤ –∫–æ–ª–æ–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∫–∞—Ä—Ç.");
          this.game.nextTurn(); this.processTurn();
        }
      }

      processTurn() {
        if (this.game.isGameOver()) { this.endGame(); return; }
        if (this.game.getCurrentPlayer() === "–ì—Ä–∞–≤–µ—Ü—å") {
          this.resetRequestState();
          this.playerTurn();
        } else this.botTurn();
      }

      playerTurn() {
        this.elements.botTurnInfo.style.display = 'none';
        this.elements.gameControls.style.display = 'block';
        if (this.game.hands["–ì—Ä–∞–≤–µ—Ü—å"].length === 0) { this.handlePlayerNoCards(); return; }
        this.updateUI();
        this.setupRankButtons();
      }

      botTurn() {
        this.elements.gameControls.style.display = 'none';
        this.elements.botTurnInfo.style.display = 'block';
        this.elements.botMessages.innerHTML = '<p>ü§ñ –ë–æ—Ç –æ–±–¥—É–º—É—î —Å–≤—ñ–π —Ö—ñ–¥...</p>';
        setTimeout(()=>this.executeBotTurn(),1500);
      }

      executeBotTurn() {
        // –ª–æ–≥—ñ–∫–∞ –±–æ—Ç–∞ (–±–µ–∑ –∑–º—ñ–Ω)...
        // (–∫–æ–ø—ñ—é—î—Ç—å—Å—è –∑ –≤–∞—à–æ–≥–æ –∫–æ–¥—É ‚Äî –≤ —ñ–Ω—Ç–µ—Ä–µ—Å–∞—Ö —á–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—ñ —Å—é–¥–∏ –Ω–µ –≤—Å—Ç–∞–≤–ª—è—é –ø–æ–≤–Ω—ñ—Å—Ç—é)
        // –ü–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –≤–∂–µ —î —É –Ω–∞–¥–∞–Ω–æ–º—É —Ä–∞–Ω—ñ—à–µ –∫–æ–¥—ñ ‚Äî —É —Ü—å–æ–º—É —Ä–µ–ø–æ –º–∏ —ó—ó –∑–±–µ—Ä—ñ–≥–∞—î–º–æ.
        // –©–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ –¥—É–±–ª—é–≤–∞–Ω–Ω—è ‚Äî –ø—Ä–∏–ø—É—Å—Ç–∏–º–æ, —â–æ executeBotTurn –≤–∏–∑–Ω–∞—á–µ–Ω–∞ –≤–∏—â–µ –ø–æ–≤–Ω—ñ—Å—Ç—é.
        // –£ –≤–∞—à—ñ–π —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–æ–Ω–∞ –≤–∂–µ –ø—Ä–∏—Å—É—Ç–Ω—è ‚Äî –Ω—ñ—á–æ–≥–æ –º—ñ–Ω—è—Ç–∏ –Ω–µ —Ç—Ä–µ–±–∞.
        // –î–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ –≤–∏–∫–ª–∏–∫–∞—î–º–æ –ø—Ä–æ—Å—Ç–∏–π fallback:
        this.showBotMessage("ü§ñ –•—ñ–¥ –±–æ—Ç–∞ (–ª–æ–≥—ñ–∫–∞ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è)...");
        // —Ñ–∞–∫—Ç–∏—á–Ω–∏–π –ø–æ–≤–Ω–∏–π –∫–æ–¥ executeBotTurn –≤–∂–µ –≤–∫–ª—é—á–µ–Ω–æ –≤–∏—â–µ —É –¥–æ–≤–≥–æ–º—É –ø—Ä–∏–∫–ª–∞–¥—ñ ‚Äî –≤—ñ–Ω –ø—Ä–∞—Ü—é—î –±–µ–∑ –∑–º—ñ–Ω.
		const bot = "–ë–æ—Ç";
    const player = "–ì—Ä–∞–≤–µ—Ü—å";
    
    if (this.game.hands[bot].length === 0) {
        if (this.game.deck.length > 0) {
            const result = this.game.drawCard(bot);
            let message = "ü§ñ –£ –±–æ—Ç–∞ –Ω–µ –±—É–ª–æ –∫–∞—Ä—Ç. ";
            if (result.success) {
                message += `–ë–æ—Ç –æ—Ç—Ä–∏–º–∞–≤ –∫–∞—Ä—Ç—É –∑ –∫–æ–ª–æ–¥–∏.`;
                if (result.collected) {
                    message += `<br>üò± –ë–æ—Ç –∑—ñ–±—Ä–∞–≤ —Å–∫—Ä–∏–Ω—å–∫—É!`;
                }
                this.showBotMessage(message);
                this.processTurn();
            }
        } else {
            this.showBotMessage("ü§ñ –£ –±–æ—Ç–∞ –Ω–µ–º–∞—î –∫–∞—Ä—Ç —ñ –≤ –∫–æ–ª–æ–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∫–∞—Ä—Ç.");
            this.game.nextTurn();
            this.processTurn();
        }
        return;
    }
    
    const availableRanks = ['6', '7', '8', '9', '10', 'J', 'Q', 'K', 'A']
        .filter(rank => !this.game.usedBoxes.has(rank));
    
    if (availableRanks.length === 0) {
        this.showBotMessage("ü§ñ –£—Å—ñ —Å–∫—Ä–∏–Ω—å–∫–∏ –≤–∂–µ –∑—ñ–±—Ä–∞–Ω—ñ!");
        this.game.nextTurn();
        this.processTurn();
        return;
    }
    
    const rank = availableRanks[Math.floor(Math.random() * availableRanks.length)];
    this.game.addToHistory("bot", `–ë–æ—Ç –∑–∞–ø–∏—Ç–∞–≤ –∫–∞—Ä—Ç–∏ ${rank}`);
    
    const playerCards = this.game.getPlayerCardsByRank(player, rank);
    
    if (playerCards.length === 0) {
        const result = this.game.drawCard(bot);
        
        let message = `ü§ñ –ë–æ—Ç –∑–∞–ø–∏—Ç—É—î: "–£ –≤–∞—Å —î ${rank}?"<br>‚ùå –£ –≤–∞—Å –Ω–µ–º–∞—î —Ç–∞–∫–∏—Ö –∫–∞—Ä—Ç.<br>`;
        
        if (result.success) {
            message += `üì© –ë–æ—Ç –æ—Ç—Ä–∏–º–∞–≤ –∫–∞—Ä—Ç—É –∑ –∫–æ–ª–æ–¥–∏: ${result.card}`;
            
            if (result.collected) {
                message += `<br>üò± –ë–æ—Ç –∑—ñ–±—Ä–∞–≤ —Å–∫—Ä–∏–Ω—å–∫—É!`;
            }
        } else {
            message += `–í –∫–æ–ª–æ–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∫–∞—Ä—Ç.`;
        }
        
        message += `<br>–ô–æ–≥–æ —Å–∫—Ä–∏–Ω—å–∫–∏: ${this.game.boxes[bot]} (${this.game.collectedBoxes[bot].join(', ')})`;
        
        this.showBotMessage(message);
        this.game.nextTurn();
        this.processTurn();
        return;
    }
    
    const count = Math.floor(Math.random() * Math.min(4, playerCards.length)) + 1;
    this.game.addToHistory("bot", `–ë–æ—Ç –∑–∞–ø–∏—Ç–∞–≤ ${count} –∫–∞—Ä—Ç–∏ ${rank}`);
    
    if (playerCards.length !== count) {
        const result = this.game.drawCard(bot);
        
        let message = `ü§ñ –ë–æ—Ç –∑–∞–ø–∏—Ç—É—î: "–£ –≤–∞—Å —î ${count} ${rank}?"<br>‚ùå –ù–∞—Å–ø—Ä–∞–≤–¥—ñ —É –≤–∞—Å ${playerCards.length} ${rank}.<br>`;
        
        if (result.success) {
            message += `üì© –ë–æ—Ç –æ—Ç—Ä–∏–º–∞–≤ –∫–∞—Ä—Ç—É –∑ –∫–æ–ª–æ–¥–∏: ${result.card}`;
            
            if (result.collected) {
                message += `<br>üò± –ë–æ—Ç –∑—ñ–±—Ä–∞–≤ —Å–∫—Ä–∏–Ω—å–∫—É!`;
            }
        } else {
            message += `–í –∫–æ–ª–æ–¥—ñ –±—ñ–ª—å—à–µ –Ω–µ–º–∞—î –∫–∞—Ä—Ç.`;
        }
        
        message += `<br>–ô–æ–≥–æ —Å–∫—Ä–∏–Ω—å–∫–∏: ${this.game.boxes[bot]} (${this.game.collectedBoxes[bot].join(', ')})`;
        
        this.showBotMessage(message);
        this.game.nextTurn();
        this.processTurn();
        return;
    }
    
    // –û–Ω–æ–≤–ª–µ–Ω–æ: –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î–º–æ –≤—Å—ñ –º–∞—Å—Ç—ñ, —è–∫—ñ –±–æ—Ç –∑–∞–±–∏—Ä–∞—î
    const suitsToTake = [...new Set(playerCards.map(card => card.slice(-1)))];
    const suitsText = suitsToTake.map(suit => {
        const colorClass = suit === '‚ô•' || suit === '‚ô¶' ? 'hearts' : 'clubs';
        return `<span class="${colorClass}">${suit}</span>`;
    }).join(', ');
    
    this.game.addToHistory("bot", `–ë–æ—Ç –∑–∞–ø–∏—Ç–∞–≤ –∫–∞—Ä—Ç–∏ ${rank} –º–∞—Å—Ç–µ–π ${suitsToTake.join(', ')}`);
    
    const cardsTaken = this.game.takeCards(player, rank);
    this.game.hands[bot].push(...cardsTaken);
    
    const boxesBefore = this.game.boxes[bot];
    this.game.checkBoxes(bot);
    
    let message = `ü§ñ –ë–æ—Ç –∑–∞–ø–∏—Ç—É—î: "–£ –≤–∞—Å —î ${count} ${rank} –º–∞—Å—Ç–µ–π ${suitsText}?"<br>`;
    message += `üéØ –ë–æ—Ç –≤–≥–∞–¥–∞–≤! –í–∏ –≤—ñ–¥–¥–∞—î—Ç–µ: ${cardsTaken.join(', ')}<br>`;
    message += `üìã –í–∞—à—ñ –∫–∞—Ä—Ç–∏: ${this.game.hands[player].sort().join(', ')}<br>`;
    message += `–°–∫—Ä–∏–Ω—å–∫–∏ –±–æ—Ç–∞: ${this.game.boxes[bot]} (${this.game.collectedBoxes[bot].join(', ')})`;
    
    if (this.game.boxes[bot] > boxesBefore) {
        const newBox = this.game.collectedBoxes[bot][this.game.collectedBoxes[bot].length - 1];
        message += `<br>üò± –ë–æ—Ç –∑—ñ–±—Ä–∞–≤ —Å–∫—Ä–∏–Ω—å–∫—É ${newBox}!`;
    }
    
    this.showBotMessage(message);
    this.updateUI();
    
    if (this.game.isGameOver()) {
        this.endGame();
    } else {
        this.processTurn();
    }
		
      }

      showMessage(message) { this.elements.botMessages.innerHTML = `<p>${message}</p>`; }
      showBotMessage(message) { this.elements.botMessages.innerHTML = `<p>${message}</p>`; }

      updateUI() {
        this.elements.currentPlayer.textContent = this.telegramUser || this.game.getCurrentPlayer();
        this.elements.playerBoxes.textContent = this.game.boxes["–ì—Ä–∞–≤–µ—Ü—å"];
        this.elements.playerBoxesList.textContent = this.game.collectedBoxes["–ì—Ä–∞–≤–µ—Ü—å"].join(', ');
        this.elements.botBoxes.textContent = this.game.boxes["–ë–æ—Ç"];
        this.elements.botBoxesList.textContent = this.game.collectedBoxes["–ë–æ—Ç"].join(', ');
        this.elements.deckCount.textContent = this.game.deck.length;

        this.elements.playerCards.innerHTML = '';
        this.game.hands["–ì—Ä–∞–≤–µ—Ü—å"].sort().forEach(card => {
          const cardElement = document.createElement('div');
          cardElement.className = 'card';
          cardElement.textContent = card;
          const suit = card.slice(-1);
          cardElement.classList.add(suit === '‚ô•' || suit === '‚ô¶' ? 'hearts' : 'clubs');
          this.elements.playerCards.appendChild(cardElement);
        });

        this.updateGameHistory();
      }

      updateGameHistory() {
        this.elements.gameHistory.innerHTML = '';
        this.game.gameHistory.forEach(entry=>{
          const logEntry = document.createElement('div');
          logEntry.className = `log-entry ${entry.type}-log`;
          logEntry.innerHTML = `<strong>[${entry.timestamp}]</strong> ${entry.message}`;
          this.elements.gameHistory.appendChild(logEntry);
        });
        this.elements.gameHistory.scrollTop = this.elements.gameHistory.scrollHeight;
      }

      endGame() {
        const winner = Object.entries(this.game.boxes).reduce((a,b)=>a[1]>b[1]?a:b);
        let resultHTML = `
          <p>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏:</p>
          <p>–ì—Ä–∞–≤–µ—Ü—å: ${this.game.boxes["–ì—Ä–∞–≤–µ—Ü—å"]} (${this.game.collectedBoxes["–ì—Ä–∞–≤–µ—Ü—å"].join(', ')})</p>
          <p>–ë–æ—Ç: ${this.game.boxes["–ë–æ—Ç"]} (${this.game.collectedBoxes["–ë–æ—Ç"].join(', ')})</p>
          <h3>–ü–µ—Ä–µ–º–æ–∂–µ—Ü—å: ${winner[0]}!</h3>
        `;
        this.elements.gameResult.innerHTML = resultHTML;
        this.openModal();
        this.game.addToHistory("system", `–ì—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞! –ü–µ—Ä–µ–º–æ–∂–µ—Ü—å: ${winner[0]} –∑ ${winner[1]} —Å–∫—Ä–∏–Ω—å–∫–∞–º–∏`);
        this.updateGameHistory();

        // –Ø–∫—â–æ WebApp ‚Äî –ø–æ–∫–∞–∑–∞—Ç–∏ –∫–Ω–æ–ø–∫—É "–ù–∞–¥—ñ—Å–ª–∞—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –±–æ—Ç—É"
        if (tg) {
          this.elements.sendResultBtn.style.display = 'inline-block';
        }
        // –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É –±–æ—Ç–∞ (–æ–ø—Ü—ñ–π–Ω–æ):
        // this.sendResultToBot(); // <-- —Ä–æ–∑–∫–æ–º–µ–Ω—Ç—É–π—Ç–µ, —è–∫—â–æ —Ö–æ—á–µ—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–ª–∞—Ç–∏
      }

      openModal(){ this.elements.gameOverModal.style.display = 'block'; }
      closeModal(){ this.elements.gameOverModal.style.display = 'none'; }

      resetRequestState() {
        this.elements.rankSelection.style.display = 'block';
        this.elements.countSelection.style.display = 'none';
        this.elements.suitSelection.style.display = 'none';
        this.selectedSuits = [];
        this.requiredCount = 0;
        delete this.game.playerState;
      }

      // –§—É–Ω–∫—Ü—ñ—è, —â–æ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î –ø—ñ–¥—Å—É–º–æ–∫ –≥—Ä–∏ –±–æ—Ç—É —á–µ—Ä–µ–∑ WebApp.sendData(...)
      sendResultToBot() {
        if (!tg) {
          alert('WebApp API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π ‚Äî —Å—Ç–æ—Ä—ñ–Ω–∫–∞ –Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç–∞ —á–µ—Ä–µ–∑ Telegram.');
          return;
        }
        const payload = {
          type: 'game_over',
          user: tg.initDataUnsafe?.user?.username || tg.initDataUnsafe?.user?.first_name || null,
          result: {
            playerBoxes: this.game.boxes["–ì—Ä–∞–≤–µ—Ü—å"],
            botBoxes: this.game.boxes["–ë–æ—Ç"],
            playerCollected: this.game.collectedBoxes["–ì—Ä–∞–≤–µ—Ü—å"],
            botCollected: this.game.collectedBoxes["–ë–æ—Ç"],
            deckLeft: this.game.deck.length
          },
          history: this.game.gameHistory.slice(-20) // –æ—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å–∏
        };
        try {
          tg.sendData(JSON.stringify(payload));
          // –æ–ø—Ü—ñ–π–Ω–æ –ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –≤ UI
          this.showMessage('–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ –±–æ—Ç—É ‚úÖ');
        } catch (e) {
          console.error('sendData error', e);
          this.showMessage('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—ñ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –±–æ—Ç—É.');
        }
      }
    }

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è UI –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–∫–∏
    document.addEventListener('DOMContentLoaded', () => {
      const gameUI = new GameUI();
    });
  </script>
</body>
</html>
